//---------------------------------------------------------------------
// This file is automatically generated. All manual edits will be lost.
//---------------------------------------------------------------------
// Real implementation of LibraryInterface for NI-MXLCTERMINALADAPTOR-RESTRICTED
//---------------------------------------------------------------------
#ifndef NIMXLCTERMINALADAPTOR_RESTRICTED_GRPC_LIBRARY_H
#define NIMXLCTERMINALADAPTOR_RESTRICTED_GRPC_LIBRARY_H

#include "nimxlcTerminalAdaptor_restricted_library_interface.h"

#include <server/shared_library.h>

namespace nimxlcterminaladaptor_restricted_grpc {

class NimxlcTerminalAdaptorRestrictedLibrary : public nimxlcterminaladaptor_restricted_grpc::NimxlcTerminalAdaptorRestrictedLibraryInterface {
 public:
  NimxlcTerminalAdaptorRestrictedLibrary();
  virtual ~NimxlcTerminalAdaptorRestrictedLibrary();

  ::grpc::Status check_function_exists(std::string functionName);
  nimxlc_Session createSession(const char hostname[], nierr_Status* cStatus);
  void destroySession(nimxlc_Session session);
  void refreshTerminalCache(nimxlc_Session session, nierr_Status* cStatus);
  bool hasTerminalInformationChanged(nimxlc_Session session, uint32_t systemChangeNumber, nierr_Status* cStatus);
  uint32_t getSystemChangeNumber(nimxlc_Session session, nierr_Status* cStatus);

 private:
  using createSessionPtr = nimxlc_Session (*)(const char hostname[], nierr_Status* cStatus);
  using destroySessionPtr = void (*)(nimxlc_Session session);
  using refreshTerminalCachePtr = void (*)(nimxlc_Session session, nierr_Status* cStatus);
  using hasTerminalInformationChangedPtr = bool (*)(nimxlc_Session session, uint32_t systemChangeNumber, nierr_Status* cStatus);
  using getSystemChangeNumberPtr = uint32_t (*)(nimxlc_Session session, nierr_Status* cStatus);

  typedef struct FunctionPointers {
    createSessionPtr createSession;
    destroySessionPtr destroySession;
    refreshTerminalCachePtr refreshTerminalCache;
    hasTerminalInformationChangedPtr hasTerminalInformationChanged;
    getSystemChangeNumberPtr getSystemChangeNumber;
  } FunctionLoadStatus;

  nidevice_grpc::SharedLibrary shared_library_;
  FunctionPointers function_pointers_;
};

}  // namespace nimxlcterminaladaptor_restricted_grpc

#endif  // NIMXLCTERMINALADAPTOR_RESTRICTED_GRPC_LIBRARY_H
